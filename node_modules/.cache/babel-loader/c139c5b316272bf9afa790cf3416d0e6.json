{"ast":null,"code":"import \"core-js/modules/es.object.define-property.js\";\nimport { Engine } from \"../Engines/engine.js\";\n/**\n * Class used for the default loading screen\n * @see https://doc.babylonjs.com/how_to/creating_a_custom_loading_screen\n */\n\nvar DefaultLoadingScreen =\n/** @class */\nfunction () {\n  /**\n   * Creates a new default loading screen\n   * @param _renderingCanvas defines the canvas used to render the scene\n   * @param _loadingText defines the default text to display\n   * @param _loadingDivBackgroundColor defines the default background color\n   */\n  function DefaultLoadingScreen(_renderingCanvas, _loadingText, _loadingDivBackgroundColor) {\n    if (_loadingText === void 0) {\n      _loadingText = \"\";\n    }\n\n    if (_loadingDivBackgroundColor === void 0) {\n      _loadingDivBackgroundColor = \"black\";\n    }\n\n    var _this = this;\n\n    this._renderingCanvas = _renderingCanvas;\n    this._loadingText = _loadingText;\n    this._loadingDivBackgroundColor = _loadingDivBackgroundColor; // Resize\n\n    this._resizeLoadingUI = function () {\n      var canvasRect = _this._renderingCanvas.getBoundingClientRect();\n\n      var canvasPositioning = window.getComputedStyle(_this._renderingCanvas).position;\n\n      if (!_this._loadingDiv) {\n        return;\n      }\n\n      _this._loadingDiv.style.position = canvasPositioning === \"fixed\" ? \"fixed\" : \"absolute\";\n      _this._loadingDiv.style.left = canvasRect.left + \"px\";\n      _this._loadingDiv.style.top = canvasRect.top + \"px\";\n      _this._loadingDiv.style.width = canvasRect.width + \"px\";\n      _this._loadingDiv.style.height = canvasRect.height + \"px\";\n    };\n  }\n  /**\n   * Function called to display the loading screen\n   */\n\n\n  DefaultLoadingScreen.prototype.displayLoadingUI = function () {\n    if (this._loadingDiv) {\n      // Do not add a loading screen if there is already one\n      return;\n    }\n\n    this._loadingDiv = document.createElement(\"div\");\n    this._loadingDiv.id = \"babylonjsLoadingDiv\";\n    this._loadingDiv.style.opacity = \"0\";\n    this._loadingDiv.style.transition = \"opacity 1.5s ease\";\n    this._loadingDiv.style.pointerEvents = \"none\";\n    this._loadingDiv.style.display = \"grid\";\n    this._loadingDiv.style.gridTemplateRows = \"100%\";\n    this._loadingDiv.style.gridTemplateColumns = \"100%\";\n    this._loadingDiv.style.justifyItems = \"center\";\n    this._loadingDiv.style.alignItems = \"center\"; // Loading text\n\n    this._loadingTextDiv = document.createElement(\"div\");\n    this._loadingTextDiv.style.position = \"absolute\";\n    this._loadingTextDiv.style.left = \"0\";\n    this._loadingTextDiv.style.top = \"50%\";\n    this._loadingTextDiv.style.marginTop = \"80px\";\n    this._loadingTextDiv.style.width = \"100%\";\n    this._loadingTextDiv.style.height = \"20px\";\n    this._loadingTextDiv.style.fontFamily = \"Arial\";\n    this._loadingTextDiv.style.fontSize = \"14px\";\n    this._loadingTextDiv.style.color = \"white\";\n    this._loadingTextDiv.style.textAlign = \"center\";\n    this._loadingTextDiv.style.zIndex = \"1\";\n    this._loadingTextDiv.innerHTML = \"Loading\";\n\n    this._loadingDiv.appendChild(this._loadingTextDiv); //set the predefined text\n\n\n    this._loadingTextDiv.innerHTML = this._loadingText; // Generating keyframes\n\n    this._style = document.createElement(\"style\");\n    this._style.type = \"text/css\";\n    var keyFrames = \"@-webkit-keyframes spin1 {                    0% { -webkit-transform: rotate(0deg);}\\n                    100% { -webkit-transform: rotate(360deg);}\\n                }                @keyframes spin1 {                    0% { transform: rotate(0deg);}\\n                    100% { transform: rotate(360deg);}\\n                }\";\n    this._style.innerHTML = keyFrames;\n    document.getElementsByTagName(\"head\")[0].appendChild(this._style);\n    var svgSupport = !!window.SVGSVGElement; // Loading img\n\n    var imgBack = new Image();\n\n    if (!DefaultLoadingScreen.DefaultLogoUrl) {\n      imgBack.src = !svgSupport ? \"https://cdn.babylonjs.com/Assets/babylonLogo.png\" : \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAuMTcgMjA4LjA0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6I2UwNjg0Yjt9LmNscy0ze2ZpbGw6I2JiNDY0Yjt9LmNscy00e2ZpbGw6I2UwZGVkODt9LmNscy01e2ZpbGw6I2Q1ZDJjYTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPkJhYnlsb25Mb2dvPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iUGFnZV9FbGVtZW50cyIgZGF0YS1uYW1lPSJQYWdlIEVsZW1lbnRzIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik05MC4wOSwwLDAsNTJWMTU2bDkwLjA5LDUyLDkwLjA4LTUyVjUyWiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxODAuMTcgNTIuMDEgMTUxLjk3IDM1LjczIDEyNC44NSA1MS4zOSAxNTMuMDUgNjcuNjcgMTgwLjE3IDUyLjAxIi8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjI3LjEyIDY3LjY3IDExNy4yMSAxNS42NiA5MC4wOCAwIDAgNTIuMDEgMjcuMTIgNjcuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNjEuODkgMTIwLjMgOTAuMDggMTM2LjU4IDExOC4yOCAxMjAuMyA5MC4wOCAxMDQuMDIgNjEuODkgMTIwLjMiLz48cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iMTUzLjA1IDY3LjY3IDE1My4wNSAxNDAuMzcgOTAuMDggMTc2LjcyIDI3LjEyIDE0MC4zNyAyNy4xMiA2Ny42NyAwIDUyLjAxIDAgMTU2LjAzIDkwLjA4IDIwOC4wNCAxODAuMTcgMTU2LjAzIDE4MC4xNyA1Mi4wMSAxNTMuMDUgNjcuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iOTAuMDggNzEuNDYgNjEuODkgODcuNzQgNjEuODkgMTIwLjMgOTAuMDggMTA0LjAyIDExOC4yOCAxMjAuMyAxMTguMjggODcuNzQgOTAuMDggNzEuNDYiLz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMTUzLjA1IDY3LjY3IDExOC4yOCA4Ny43NCAxMTguMjggMTIwLjMgOTAuMDggMTM2LjU4IDkwLjA4IDE3Ni43MiAxNTMuMDUgMTQwLjM3IDE1My4wNSA2Ny42NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIyNy4xMiA2Ny42NyA2MS44OSA4Ny43NCA2MS44OSAxMjAuMyA5MC4wOCAxMzYuNTggOTAuMDggMTc2LjcyIDI3LjEyIDE0MC4zNyAyNy4xMiA2Ny42NyIvPjwvZz48L2c+PC9zdmc+\";\n    } else {\n      imgBack.src = DefaultLoadingScreen.DefaultLogoUrl;\n    }\n\n    imgBack.style.width = \"150px\";\n    imgBack.style.gridColumn = \"1\";\n    imgBack.style.gridRow = \"1\";\n    imgBack.style.top = \"50%\";\n    imgBack.style.left = \"50%\";\n    imgBack.style.transform = \"translate(-50%, -50%)\";\n    imgBack.style.position = \"absolute\";\n    var imageSpinnerContainer = document.createElement(\"div\");\n    imageSpinnerContainer.style.width = \"300px\";\n    imageSpinnerContainer.style.gridColumn = \"1\";\n    imageSpinnerContainer.style.gridRow = \"1\";\n    imageSpinnerContainer.style.top = \"50%\";\n    imageSpinnerContainer.style.left = \"50%\";\n    imageSpinnerContainer.style.transform = \"translate(-50%, -50%)\";\n    imageSpinnerContainer.style.position = \"absolute\"; // Loading spinner\n\n    var imgSpinner = new Image();\n\n    if (!DefaultLoadingScreen.DefaultSpinnerUrl) {\n      imgSpinner.src = !svgSupport ? \"https://cdn.babylonjs.com/Assets/loadingIcon.png\" : \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzOTIgMzkyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwNjg0Yjt9LmNscy0ye2ZpbGw6bm9uZTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlNwaW5uZXJJY29uPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iU3Bpbm5lciI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNDAuMjEsMTI2LjQzYzMuNy03LjMxLDcuNjctMTQuNDQsMTItMjEuMzJsMy4zNi01LjEsMy41Mi01YzEuMjMtMS42MywyLjQxLTMuMjksMy42NS00LjkxczIuNTMtMy4yMSwzLjgyLTQuNzlBMTg1LjIsMTg1LjIsMCwwLDEsODMuNCw2Ny40M2EyMDgsMjA4LDAsMCwxLDE5LTE1LjY2YzMuMzUtMi40MSw2Ljc0LTQuNzgsMTAuMjUtN3M3LjExLTQuMjgsMTAuNzUtNi4zMmM3LjI5LTQsMTQuNzMtOCwyMi41My0xMS40OSwzLjktMS43Miw3Ljg4LTMuMywxMi00LjY0YTEwNC4yMiwxMDQuMjIsMCwwLDEsMTIuNDQtMy4yMyw2Mi40NCw2Mi40NCwwLDAsMSwxMi43OC0xLjM5QTI1LjkyLDI1LjkyLDAsMCwxLDE5NiwyMS40NGE2LjU1LDYuNTUsMCwwLDEsMi4wNSw5LDYuNjYsNi42NiwwLDAsMS0xLjY0LDEuNzhsLS40MS4yOWEyMi4wNywyMi4wNywwLDAsMS01Ljc4LDMsMzAuNDIsMzAuNDIsMCwwLDEtNS42NywxLjYyLDM3LjgyLDM3LjgyLDAsMCwxLTUuNjkuNzFjLTEsMC0xLjkuMTgtMi44NS4yNmwtMi44NS4yNHEtNS43Mi41MS0xMS40OCwxLjFjLTMuODQuNC03LjcxLjgyLTExLjU4LDEuNGExMTIuMzQsMTEyLjM0LDAsMCwwLTIyLjk0LDUuNjFjLTMuNzIsMS4zNS03LjM0LDMtMTAuOTQsNC42NHMtNy4xNCwzLjUxLTEwLjYsNS41MUExNTEuNiwxNTEuNiwwLDAsMCw2OC41Niw4N0M2Ny4yMyw4OC40OCw2Niw5MCw2NC42NCw5MS41NnMtMi41MSwzLjE1LTMuNzUsNC43M2wtMy41NCw0LjljLTEuMTMsMS42Ni0yLjIzLDMuMzUtMy4zMyw1YTEyNywxMjcsMCwwLDAtMTAuOTMsMjEuNDksMS41OCwxLjU4LDAsMSwxLTMtMS4xNVM0MC4xOSwxMjYuNDcsNDAuMjEsMTI2LjQzWiIvPjxyZWN0IGNsYXNzPSJjbHMtMiIgd2lkdGg9IjM5MiIgaGVpZ2h0PSIzOTIiLz48L2c+PC9nPjwvc3ZnPg==\";\n    } else {\n      imgSpinner.src = DefaultLoadingScreen.DefaultSpinnerUrl;\n    }\n\n    imgSpinner.style.animation = \"spin1 0.75s infinite linear\";\n    imgSpinner.style.webkitAnimation = \"spin1 0.75s infinite linear\";\n    imgSpinner.style.transformOrigin = \"50% 50%\";\n    imgSpinner.style.webkitTransformOrigin = \"50% 50%\";\n\n    if (!svgSupport) {\n      var logoSize = {\n        w: 16,\n        h: 18.5\n      };\n      var loadingSize = {\n        w: 30,\n        h: 30\n      }; // set styling correctly\n\n      imgBack.style.width = \"\".concat(logoSize.w, \"vh\");\n      imgBack.style.height = \"\".concat(logoSize.h, \"vh\");\n      imgBack.style.left = \"calc(50% - \".concat(logoSize.w / 2, \"vh)\");\n      imgBack.style.top = \"calc(50% - \".concat(logoSize.h / 2, \"vh)\");\n      imgSpinner.style.width = \"\".concat(loadingSize.w, \"vh\");\n      imgSpinner.style.height = \"\".concat(loadingSize.h, \"vh\");\n      imgSpinner.style.left = \"calc(50% - \".concat(loadingSize.w / 2, \"vh)\");\n      imgSpinner.style.top = \"calc(50% - \".concat(loadingSize.h / 2, \"vh)\");\n    }\n\n    imageSpinnerContainer.appendChild(imgSpinner);\n\n    this._loadingDiv.appendChild(imgBack);\n\n    this._loadingDiv.appendChild(imageSpinnerContainer);\n\n    this._resizeLoadingUI();\n\n    window.addEventListener(\"resize\", this._resizeLoadingUI);\n    this._loadingDiv.style.backgroundColor = this._loadingDivBackgroundColor;\n    document.body.appendChild(this._loadingDiv);\n    this._loadingDiv.style.opacity = \"1\";\n  };\n  /**\n   * Function called to hide the loading screen\n   */\n\n\n  DefaultLoadingScreen.prototype.hideLoadingUI = function () {\n    var _this = this;\n\n    if (!this._loadingDiv) {\n      return;\n    }\n\n    var onTransitionEnd = function onTransitionEnd() {\n      if (_this._loadingDiv) {\n        if (_this._loadingDiv.parentElement) {\n          _this._loadingDiv.parentElement.removeChild(_this._loadingDiv);\n        }\n\n        _this._loadingDiv = null;\n      }\n\n      if (_this._style) {\n        if (_this._style.parentElement) {\n          _this._style.parentElement.removeChild(_this._style);\n        }\n\n        _this._style = null;\n      }\n\n      window.removeEventListener(\"resize\", _this._resizeLoadingUI);\n    };\n\n    this._loadingDiv.style.opacity = \"0\";\n\n    this._loadingDiv.addEventListener(\"transitionend\", onTransitionEnd);\n  };\n\n  Object.defineProperty(DefaultLoadingScreen.prototype, \"loadingUIText\", {\n    get: function get() {\n      return this._loadingText;\n    },\n\n    /**\n     * Gets or sets the text to display while loading\n     */\n    set: function set(text) {\n      this._loadingText = text;\n\n      if (this._loadingTextDiv) {\n        this._loadingTextDiv.innerHTML = this._loadingText;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DefaultLoadingScreen.prototype, \"loadingUIBackgroundColor\", {\n    /**\n     * Gets or sets the color to use for the background\n     */\n    get: function get() {\n      return this._loadingDivBackgroundColor;\n    },\n    set: function set(color) {\n      this._loadingDivBackgroundColor = color;\n\n      if (!this._loadingDiv) {\n        return;\n      }\n\n      this._loadingDiv.style.backgroundColor = this._loadingDivBackgroundColor;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /** Gets or sets the logo url to use for the default loading screen */\n\n  DefaultLoadingScreen.DefaultLogoUrl = \"\";\n  /** Gets or sets the spinner url to use for the default loading screen */\n\n  DefaultLoadingScreen.DefaultSpinnerUrl = \"\";\n  return DefaultLoadingScreen;\n}();\n\nexport { DefaultLoadingScreen };\n\nEngine.DefaultLoadingScreenFactory = function (canvas) {\n  return new DefaultLoadingScreen(canvas);\n};","map":{"version":3,"mappings":"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","names":["Engine","_renderingCanvas","_loadingText","_loadingDivBackgroundColor","canvasRect","_this","getBoundingClientRect","canvasPositioning","window","getComputedStyle","position","_loadingDiv","style","left","top","width","height","DefaultLoadingScreen","document","createElement","id","opacity","transition","pointerEvents","display","gridTemplateRows","gridTemplateColumns","justifyItems","alignItems","_loadingTextDiv","marginTop","fontFamily","fontSize","color","textAlign","zIndex","innerHTML","appendChild","_style","type","keyFrames","getElementsByTagName","svgSupport","SVGSVGElement","imgBack","Image","DefaultLogoUrl","src","gridColumn","gridRow","transform","imageSpinnerContainer","imgSpinner","DefaultSpinnerUrl","animation","webkitAnimation","transformOrigin","webkitTransformOrigin","logoSize","w","h","loadingSize","_resizeLoadingUI","addEventListener","backgroundColor","body","onTransitionEnd","parentElement","removeChild","removeEventListener","Object","text","DefaultLoadingScreenFactory","canvas"],"sourceRoot":"","sources":["../../../../../lts/core/generated/Loading/loadingScreen.ts"],"sourcesContent":["import type { Nullable } from \"../types\";\r\nimport { Engine } from \"../Engines/engine\";\r\n/**\r\n * Interface used to present a loading screen while loading a scene\r\n * @see https://doc.babylonjs.com/how_to/creating_a_custom_loading_screen\r\n */\r\nexport interface ILoadingScreen {\r\n    /**\r\n     * Function called to display the loading screen\r\n     */\r\n    displayLoadingUI: () => void;\r\n    /**\r\n     * Function called to hide the loading screen\r\n     */\r\n    hideLoadingUI: () => void;\r\n    /**\r\n     * Gets or sets the color to use for the background\r\n     */\r\n    loadingUIBackgroundColor: string;\r\n    /**\r\n     * Gets or sets the text to display while loading\r\n     */\r\n    loadingUIText: string;\r\n}\r\n\r\n/**\r\n * Class used for the default loading screen\r\n * @see https://doc.babylonjs.com/how_to/creating_a_custom_loading_screen\r\n */\r\nexport class DefaultLoadingScreen implements ILoadingScreen {\r\n    private _loadingDiv: Nullable<HTMLDivElement>;\r\n    private _loadingTextDiv: HTMLDivElement;\r\n    private _style: Nullable<HTMLStyleElement>;\r\n\r\n    /** Gets or sets the logo url to use for the default loading screen */\r\n    public static DefaultLogoUrl = \"\";\r\n\r\n    /** Gets or sets the spinner url to use for the default loading screen */\r\n    public static DefaultSpinnerUrl = \"\";\r\n\r\n    /**\r\n     * Creates a new default loading screen\r\n     * @param _renderingCanvas defines the canvas used to render the scene\r\n     * @param _loadingText defines the default text to display\r\n     * @param _loadingDivBackgroundColor defines the default background color\r\n     */\r\n    constructor(private _renderingCanvas: HTMLCanvasElement, private _loadingText = \"\", private _loadingDivBackgroundColor = \"black\") {}\r\n\r\n    /**\r\n     * Function called to display the loading screen\r\n     */\r\n    public displayLoadingUI(): void {\r\n        if (this._loadingDiv) {\r\n            // Do not add a loading screen if there is already one\r\n            return;\r\n        }\r\n\r\n        this._loadingDiv = document.createElement(\"div\");\r\n\r\n        this._loadingDiv.id = \"babylonjsLoadingDiv\";\r\n        this._loadingDiv.style.opacity = \"0\";\r\n        this._loadingDiv.style.transition = \"opacity 1.5s ease\";\r\n        this._loadingDiv.style.pointerEvents = \"none\";\r\n        this._loadingDiv.style.display = \"grid\";\r\n        this._loadingDiv.style.gridTemplateRows = \"100%\";\r\n        this._loadingDiv.style.gridTemplateColumns = \"100%\";\r\n        this._loadingDiv.style.justifyItems = \"center\";\r\n        this._loadingDiv.style.alignItems = \"center\";\r\n\r\n        // Loading text\r\n        this._loadingTextDiv = document.createElement(\"div\");\r\n        this._loadingTextDiv.style.position = \"absolute\";\r\n        this._loadingTextDiv.style.left = \"0\";\r\n        this._loadingTextDiv.style.top = \"50%\";\r\n        this._loadingTextDiv.style.marginTop = \"80px\";\r\n        this._loadingTextDiv.style.width = \"100%\";\r\n        this._loadingTextDiv.style.height = \"20px\";\r\n        this._loadingTextDiv.style.fontFamily = \"Arial\";\r\n        this._loadingTextDiv.style.fontSize = \"14px\";\r\n        this._loadingTextDiv.style.color = \"white\";\r\n        this._loadingTextDiv.style.textAlign = \"center\";\r\n        this._loadingTextDiv.style.zIndex = \"1\";\r\n        this._loadingTextDiv.innerHTML = \"Loading\";\r\n\r\n        this._loadingDiv.appendChild(this._loadingTextDiv);\r\n\r\n        //set the predefined text\r\n        this._loadingTextDiv.innerHTML = this._loadingText;\r\n\r\n        // Generating keyframes\r\n        this._style = document.createElement(\"style\");\r\n        this._style.type = \"text/css\";\r\n        const keyFrames = `@-webkit-keyframes spin1 {\\\r\n                    0% { -webkit-transform: rotate(0deg);}\r\n                    100% { -webkit-transform: rotate(360deg);}\r\n                }\\\r\n                @keyframes spin1 {\\\r\n                    0% { transform: rotate(0deg);}\r\n                    100% { transform: rotate(360deg);}\r\n                }`;\r\n        this._style.innerHTML = keyFrames;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(this._style);\r\n\r\n        const svgSupport = !!window.SVGSVGElement;\r\n        // Loading img\r\n        const imgBack = new Image();\r\n        if (!DefaultLoadingScreen.DefaultLogoUrl) {\r\n            imgBack.src = !svgSupport\r\n                ? \"https://cdn.babylonjs.com/Assets/babylonLogo.png\"\r\n                : `data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAuMTcgMjA4LjA0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6I2UwNjg0Yjt9LmNscy0ze2ZpbGw6I2JiNDY0Yjt9LmNscy00e2ZpbGw6I2UwZGVkODt9LmNscy01e2ZpbGw6I2Q1ZDJjYTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPkJhYnlsb25Mb2dvPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iUGFnZV9FbGVtZW50cyIgZGF0YS1uYW1lPSJQYWdlIEVsZW1lbnRzIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik05MC4wOSwwLDAsNTJWMTU2bDkwLjA5LDUyLDkwLjA4LTUyVjUyWiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxODAuMTcgNTIuMDEgMTUxLjk3IDM1LjczIDEyNC44NSA1MS4zOSAxNTMuMDUgNjcuNjcgMTgwLjE3IDUyLjAxIi8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjI3LjEyIDY3LjY3IDExNy4yMSAxNS42NiA5MC4wOCAwIDAgNTIuMDEgMjcuMTIgNjcuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNjEuODkgMTIwLjMgOTAuMDggMTM2LjU4IDExOC4yOCAxMjAuMyA5MC4wOCAxMDQuMDIgNjEuODkgMTIwLjMiLz48cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iMTUzLjA1IDY3LjY3IDE1My4wNSAxNDAuMzcgOTAuMDggMTc2LjcyIDI3LjEyIDE0MC4zNyAyNy4xMiA2Ny42NyAwIDUyLjAxIDAgMTU2LjAzIDkwLjA4IDIwOC4wNCAxODAuMTcgMTU2LjAzIDE4MC4xNyA1Mi4wMSAxNTMuMDUgNjcuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iOTAuMDggNzEuNDYgNjEuODkgODcuNzQgNjEuODkgMTIwLjMgOTAuMDggMTA0LjAyIDExOC4yOCAxMjAuMyAxMTguMjggODcuNzQgOTAuMDggNzEuNDYiLz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMTUzLjA1IDY3LjY3IDExOC4yOCA4Ny43NCAxMTguMjggMTIwLjMgOTAuMDggMTM2LjU4IDkwLjA4IDE3Ni43MiAxNTMuMDUgMTQwLjM3IDE1My4wNSA2Ny42NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIyNy4xMiA2Ny42NyA2MS44OSA4Ny43NCA2MS44OSAxMjAuMyA5MC4wOCAxMzYuNTggOTAuMDggMTc2LjcyIDI3LjEyIDE0MC4zNyAyNy4xMiA2Ny42NyIvPjwvZz48L2c+PC9zdmc+`;\r\n        } else {\r\n            imgBack.src = DefaultLoadingScreen.DefaultLogoUrl;\r\n        }\r\n\r\n        imgBack.style.width = \"150px\";\r\n        imgBack.style.gridColumn = \"1\";\r\n        imgBack.style.gridRow = \"1\";\r\n        imgBack.style.top = \"50%\";\r\n        imgBack.style.left = \"50%\";\r\n        imgBack.style.transform = \"translate(-50%, -50%)\";\r\n        imgBack.style.position = \"absolute\";\r\n\r\n        const imageSpinnerContainer = document.createElement(\"div\");\r\n        imageSpinnerContainer.style.width = \"300px\";\r\n        imageSpinnerContainer.style.gridColumn = \"1\";\r\n        imageSpinnerContainer.style.gridRow = \"1\";\r\n        imageSpinnerContainer.style.top = \"50%\";\r\n        imageSpinnerContainer.style.left = \"50%\";\r\n        imageSpinnerContainer.style.transform = \"translate(-50%, -50%)\";\r\n        imageSpinnerContainer.style.position = \"absolute\";\r\n\r\n        // Loading spinner\r\n        const imgSpinner = new Image();\r\n\r\n        if (!DefaultLoadingScreen.DefaultSpinnerUrl) {\r\n            imgSpinner.src = !svgSupport\r\n                ? \"https://cdn.babylonjs.com/Assets/loadingIcon.png\"\r\n                : `data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzOTIgMzkyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UwNjg0Yjt9LmNscy0ye2ZpbGw6bm9uZTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPlNwaW5uZXJJY29uPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iU3Bpbm5lciI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNDAuMjEsMTI2LjQzYzMuNy03LjMxLDcuNjctMTQuNDQsMTItMjEuMzJsMy4zNi01LjEsMy41Mi01YzEuMjMtMS42MywyLjQxLTMuMjksMy42NS00LjkxczIuNTMtMy4yMSwzLjgyLTQuNzlBMTg1LjIsMTg1LjIsMCwwLDEsODMuNCw2Ny40M2EyMDgsMjA4LDAsMCwxLDE5LTE1LjY2YzMuMzUtMi40MSw2Ljc0LTQuNzgsMTAuMjUtN3M3LjExLTQuMjgsMTAuNzUtNi4zMmM3LjI5LTQsMTQuNzMtOCwyMi41My0xMS40OSwzLjktMS43Miw3Ljg4LTMuMywxMi00LjY0YTEwNC4yMiwxMDQuMjIsMCwwLDEsMTIuNDQtMy4yMyw2Mi40NCw2Mi40NCwwLDAsMSwxMi43OC0xLjM5QTI1LjkyLDI1LjkyLDAsMCwxLDE5NiwyMS40NGE2LjU1LDYuNTUsMCwwLDEsMi4wNSw5LDYuNjYsNi42NiwwLDAsMS0xLjY0LDEuNzhsLS40MS4yOWEyMi4wNywyMi4wNywwLDAsMS01Ljc4LDMsMzAuNDIsMzAuNDIsMCwwLDEtNS42NywxLjYyLDM3LjgyLDM3LjgyLDAsMCwxLTUuNjkuNzFjLTEsMC0xLjkuMTgtMi44NS4yNmwtMi44NS4yNHEtNS43Mi41MS0xMS40OCwxLjFjLTMuODQuNC03LjcxLjgyLTExLjU4LDEuNGExMTIuMzQsMTEyLjM0LDAsMCwwLTIyLjk0LDUuNjFjLTMuNzIsMS4zNS03LjM0LDMtMTAuOTQsNC42NHMtNy4xNCwzLjUxLTEwLjYsNS41MUExNTEuNiwxNTEuNiwwLDAsMCw2OC41Niw4N0M2Ny4yMyw4OC40OCw2Niw5MCw2NC42NCw5MS41NnMtMi41MSwzLjE1LTMuNzUsNC43M2wtMy41NCw0LjljLTEuMTMsMS42Ni0yLjIzLDMuMzUtMy4zMyw1YTEyNywxMjcsMCwwLDAtMTAuOTMsMjEuNDksMS41OCwxLjU4LDAsMSwxLTMtMS4xNVM0MC4xOSwxMjYuNDcsNDAuMjEsMTI2LjQzWiIvPjxyZWN0IGNsYXNzPSJjbHMtMiIgd2lkdGg9IjM5MiIgaGVpZ2h0PSIzOTIiLz48L2c+PC9nPjwvc3ZnPg==`;\r\n        } else {\r\n            imgSpinner.src = DefaultLoadingScreen.DefaultSpinnerUrl;\r\n        }\r\n\r\n        imgSpinner.style.animation = \"spin1 0.75s infinite linear\";\r\n        imgSpinner.style.webkitAnimation = \"spin1 0.75s infinite linear\";\r\n        imgSpinner.style.transformOrigin = \"50% 50%\";\r\n        imgSpinner.style.webkitTransformOrigin = \"50% 50%\";\r\n\r\n        if (!svgSupport) {\r\n            const logoSize = { w: 16, h: 18.5 };\r\n            const loadingSize = { w: 30, h: 30 };\r\n            // set styling correctly\r\n            imgBack.style.width = `${logoSize.w}vh`;\r\n            imgBack.style.height = `${logoSize.h}vh`;\r\n            imgBack.style.left = `calc(50% - ${logoSize.w / 2}vh)`;\r\n            imgBack.style.top = `calc(50% - ${logoSize.h / 2}vh)`;\r\n\r\n            imgSpinner.style.width = `${loadingSize.w}vh`;\r\n            imgSpinner.style.height = `${loadingSize.h}vh`;\r\n            imgSpinner.style.left = `calc(50% - ${loadingSize.w / 2}vh)`;\r\n            imgSpinner.style.top = `calc(50% - ${loadingSize.h / 2}vh)`;\r\n        }\r\n\r\n        imageSpinnerContainer.appendChild(imgSpinner);\r\n\r\n        this._loadingDiv.appendChild(imgBack);\r\n        this._loadingDiv.appendChild(imageSpinnerContainer);\r\n\r\n        this._resizeLoadingUI();\r\n\r\n        window.addEventListener(\"resize\", this._resizeLoadingUI);\r\n\r\n        this._loadingDiv.style.backgroundColor = this._loadingDivBackgroundColor;\r\n        document.body.appendChild(this._loadingDiv);\r\n\r\n        this._loadingDiv.style.opacity = \"1\";\r\n    }\r\n\r\n    /**\r\n     * Function called to hide the loading screen\r\n     */\r\n    public hideLoadingUI(): void {\r\n        if (!this._loadingDiv) {\r\n            return;\r\n        }\r\n\r\n        const onTransitionEnd = () => {\r\n            if (this._loadingDiv) {\r\n                if (this._loadingDiv.parentElement) {\r\n                    this._loadingDiv.parentElement.removeChild(this._loadingDiv);\r\n                }\r\n                this._loadingDiv = null;\r\n            }\r\n            if (this._style) {\r\n                if (this._style.parentElement) {\r\n                    this._style.parentElement.removeChild(this._style);\r\n                }\r\n                this._style = null;\r\n            }\r\n            window.removeEventListener(\"resize\", this._resizeLoadingUI);\r\n        };\r\n\r\n        this._loadingDiv.style.opacity = \"0\";\r\n        this._loadingDiv.addEventListener(\"transitionend\", onTransitionEnd);\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the text to display while loading\r\n     */\r\n    public set loadingUIText(text: string) {\r\n        this._loadingText = text;\r\n\r\n        if (this._loadingTextDiv) {\r\n            this._loadingTextDiv.innerHTML = this._loadingText;\r\n        }\r\n    }\r\n\r\n    public get loadingUIText(): string {\r\n        return this._loadingText;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the color to use for the background\r\n     */\r\n    public get loadingUIBackgroundColor(): string {\r\n        return this._loadingDivBackgroundColor;\r\n    }\r\n\r\n    public set loadingUIBackgroundColor(color: string) {\r\n        this._loadingDivBackgroundColor = color;\r\n\r\n        if (!this._loadingDiv) {\r\n            return;\r\n        }\r\n\r\n        this._loadingDiv.style.backgroundColor = this._loadingDivBackgroundColor;\r\n    }\r\n\r\n    // Resize\r\n    private _resizeLoadingUI = () => {\r\n        const canvasRect = this._renderingCanvas.getBoundingClientRect();\r\n        const canvasPositioning = window.getComputedStyle(this._renderingCanvas).position;\r\n\r\n        if (!this._loadingDiv) {\r\n            return;\r\n        }\r\n\r\n        this._loadingDiv.style.position = canvasPositioning === \"fixed\" ? \"fixed\" : \"absolute\";\r\n        this._loadingDiv.style.left = canvasRect.left + \"px\";\r\n        this._loadingDiv.style.top = canvasRect.top + \"px\";\r\n        this._loadingDiv.style.width = canvasRect.width + \"px\";\r\n        this._loadingDiv.style.height = canvasRect.height + \"px\";\r\n    };\r\n}\r\n\r\nEngine.DefaultLoadingScreenFactory = (canvas: HTMLCanvasElement) => {\r\n    return new DefaultLoadingScreen(canvas);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}